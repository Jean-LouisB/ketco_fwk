<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KetCo FWK Documentation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</head>
<body>
    <header>
        <h1>KetCo FWK</h1>
        <p><strong>Version :</strong> V.1.0.0</p>
        <p>KetCo fwk est un Framework pour une application Flask.</p>
    </header>
    <aside>
        <div class="sidebar">
            <h2>Navigation</h2>
            <a href="#start">ğŸš€ DÃ©marrage</a>
            <a href="#dependencies">ğŸ“¦ DÃ©pendances</a>
            <a href="#makefile">ğŸ› ï¸ Makefile</a>
            <a href="#routes">ğŸŒ CrÃ©er des routes</a>
            <a href="#folders">ğŸ“‚ Configuration des dossiers</a>
        </div>
    </aside>
    <main>
        <section id="start">
            <h2>ğŸš€ DÃ©marrage</h2>
            <p>Faire le clÃ´ne du dÃ©pÃ´t :</p>
            <pre><code>git clone https://github.com/Jean-LouisB/ketco_fwk.git</code></pre>
            <p>Une fois chargÃ©, il faut exÃ©cuter le script <code>setup.sh</code> en le dÃ©finissant comme source :</p>
            <pre><code>source setup.sh</code></pre>
            <p>Ce script : </p>
            <ul>
                <li>CrÃ©e l'environnement Python,</li>
                <li>L'active,</li>
                <li>Installe les dÃ©pendances initiales,</li>
                <li>Freeze les dÃ©pendances,</li>
                <li>CrÃ©e les dossiers des logs Gunicorn,</li>
                <li>CrÃ©e le fichier <code>.env</code>,</li>
                <li>Supprime le lien avec le repo Git initial.</li>
            </ul>
        </section>

        <section id="dependencies">
            <h2>ğŸ“¦ DÃ©pendances</h2>
            <h3>Initiales :</h3>
            <ul>
                <li>Flask</li>
                <li>Gunicorn</li>
                <li>mysqlclient</li>
                <li>python-dotenv</li>
            </ul>
            <h3>Options :</h3>
            <p>(Ã€ dÃ©commenter dans <code>/dep/requirements_usr.txt</code> avant installation)</p>
            <ul>
                <li>Flask-Mail</li>
                <li>pymongo</li>
            </ul>
            <h3>Fichiers des dÃ©pendances :</h3>
            <ul>
                <li><strong>requirements_std.txt :</strong> Ne pas modifier.</li>
                <li><strong>requirements_usr.txt :</strong> Pour vos dÃ©pendances personnelles.</li>
                <li><strong>requirements.txt :</strong> Contient le freeze du projet.</li>
            </ul>
            <p>Pour ajouter vos dÃ©pendances personnelles :</p>
            <pre><code>
    pip install &lt;ma_librairie&gt;  
    make freeze
        </code></pre>
        </section>
        <section id="makefile">
            <h2>ğŸ› ï¸ Makefile</h2>
            <p>Voici l'ensemble des commandes disponibles :</p>
            <ul>
                <h3>Instalation : </h3>
                <li><code>make venv</code> - CrÃ©e l'environnement virtuel Python.</li>
                <li><code>make install</code> - Installe les dÃ©pendances standards et utilisateur.</li>
                <li><code>make install-freeze</code> - Installe les dÃ©pendances depuis le fichier <code>requirements.txt</code>.</li>
                <h3>Runs : </h3>
                <li><code>make run-dev</code> - Lance l'application en mode dÃ©veloppement.</li>
                <li><code>make run-prod</code> - Lance l'application en mode production avec Gunicorn.</li>
                <h3>DÃ©pendances : </h3>
                <li><code>make freeze</code> - Met Ã  jour le fichier <code>requirements.txt</code> avec les dÃ©pendances actuelles.</li>
                <h3>Tests : </h3>
                <li><code>make test</code> - ExÃ©cute les tests avec <code>pytest</code>.</li>
                <h3>Nettoyage : </h3>
                <li><code>make clean</code> - Supprime les fichiers temporaires (caches, fichiers compilÃ©s, etc.).</li>
                <li><code>make clean-logs</code> - Vide les logs dans le dossier <code>logs_gunicorn</code>.</li>
                <li><code>make clean-venv</code> - Supprime l'environnement virtuel.</li>
                <li><code>make clean-all</code> - Supprime les fichiers temporaires, les logs et l'environnement virtuel.</li>
            </ul>
            <h3>Utilisation recommandÃ© : </h3>
            <p>Pour rÃ©initialiser le projet avec les dÃ©pendances initiales :</p>
            <pre><code>
    make clean-all
    make install-freeze
            </code></pre>
            <p>Pour ajouter une dÃ©pendance et la freezer :</p>
            <pre><code>
    pip install &lt;ma_librairie&gt;  
    make freeze
            </code></pre>
            <p>Pour exÃ©cuter lâ€™application en dÃ©veloppement ou en production :</p>
            <pre><code>
    make run-dev
    make run-prod
            </code></pre>  
        </section>
        <section>
            <h2>â–¶ï¸ Lancer l'app :</h2>
            <p>Une fois tout installÃ© le framwork est prÃªt Ã  dÃ©marrer.</p>
            <p>faites :</p>
            <pre><code>make run-dev</code></pre>
            <p>ou</p>
            <pre><code>make run-prod</code></pre>
            <p>Une page doc.html est disponible Ã  l'adresse <pre><code>http://localhost:3000/doc</code></pre></p>
            <p>Vous pouvez la modifier ou en creer d'autres</p>
        </section>
        <section id="routes">
            <h2>ğŸŒ CrÃ©er des routes (et des blueprints)</h2>
            <p>Pour organiser vos routes dans le projet KetCo FWK, utilisez le systÃ¨me de <strong>blueprints</strong> fourni par Flask. Voici un guide rapide pour ajouter une nouvelle route :</p>
            
            <h3>Ã‰tape 1 : CrÃ©er un fichier pour votre blueprint</h3>
            <p>Dans le dossier <code>src/routes/</code>, crÃ©ez un fichier, par exemple : <code>example_routes.py</code>.</p>
            <pre><code>
        from flask import Blueprint, jsonify
        
        example = Blueprint('example', __name__)
        
        @example.route('/example', methods=['GET'])
        def example_route():
            return jsonify({"message": "Ceci est un exemple de route!"})
            </code></pre>
        
            <h3>Ã‰tape 2 : Enregistrer le blueprint</h3>
            <p>Dans le fichier <code>app.py</code>, enregistrez votre blueprint :</p>
            <pre><code>
        from flask import Flask
        from src.routes.example_routes import example
        
        app = Flask(__name__)
        
        # Enregistrement du blueprint
        app.register_blueprint(example, url_prefix='/api')
            </code></pre>
        
            <p>Cette configuration rend la route accessible via : <code>http://localhost:3000/api/example</code>.</p>
            
            <h3>Ã‰tape 3 : Ajouter des routes supplÃ©mentaires</h3>
            <p>Pour ajouter plus de routes dans le mÃªme fichier, rÃ©pÃ©tez la mÃ©thode en utilisant <code>@example.route</code> avec les chemins et mÃ©thodes nÃ©cessaires.</p>
        
            <h3>Conseils</h3>
            <ul>
                <li>Utilisez des blueprints pour regrouper des routes ayant des finalitÃ©s similaires (par exemple, routes liÃ©es aux utilisateurs, aux produits, etc.).</li>
                <li>PrivilÃ©giez des noms explicites pour vos blueprints et vos fichiers pour une meilleure lisibilitÃ©.</li>
                <li>Ã‰vitez de tout mettre dans <code>app.py</code> pour garder le projet modulaire et maintenable.</li>
            </ul>
        </section>

        </section>
        <section>
            <h2>Envoyer des mails</h2>
            <p>coming soon...</p>
            
        </section>
        <section>
            <h2>Les logs</h2>
            <p>coming soon...</p>
            
        </section>

        
        <section id="folders">
            <h2>ğŸ“‚ Configuration des dossiers</h2>
            <pre><code>
.
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflow/
â”‚       â””â”€â”€ build.yml          # Pipeline GitHub Actions
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ flask_config.py        # Configuration Flask
â”‚   â”œâ”€â”€ gunicorn_config.py     # Configuration Gunicorn
â”œâ”€â”€ dep/
â”‚   â”œâ”€â”€ requirements_std.txt   # DÃ©pendances standard
â”‚   â”œâ”€â”€ requirements_usr.txt   # DÃ©pendances utilisateur
â”‚   â””â”€â”€ requirements.txt       # DÃ©pendances consolidÃ©es
â”œâ”€â”€ logs_gunicorn/
â”‚   â”œâ”€â”€ access.log             # Logs d'accÃ¨s
â”‚   â””â”€â”€ error.log              # Logs d'erreur
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/           # ContrÃ´leurs
â”‚   â”œâ”€â”€ models/                # ModÃ¨les
â”‚   â”œâ”€â”€ routes/                # Routes Flask
â”‚   â”œâ”€â”€ statics/               # Fichiers statiques
â”‚   â”œâ”€â”€ templates/             # Templates HTML
â”‚   â””â”€â”€ tools/                 # Outils
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ __init__.py            # Tests initiaux
â”œâ”€â”€ .env                       # Variables d'environnement
â”œâ”€â”€ .gitignore                 # Fichiers Ã  ignorer par Git
â”œâ”€â”€ app.py                     # Point d'entrÃ©e Flask
â”œâ”€â”€ Makefile                   # Automatisation des tÃ¢ches
â”œâ”€â”€ README.md                  # Documentation du projet
â””â”€â”€ setup.sh                   # Script d'installation
            </code></pre>
        </section>
    </main>

    <footer>
        <p>Â© 2025 KetCo Framework</p>
    </footer>

</body>
</html>